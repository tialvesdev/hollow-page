<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Nova Publicação</title>

    <link rel="stylesheet" href="../assets/css/global.style.css">
    <link rel="stylesheet" href="../assets/css/new-post.css">

    <script src="../assets/js/validation.js"></script>
  </head>
  <body>
    <div class="new-post-wrapper">
      <main class="np-main">
        <section class="np-sect">
            <!-- <article>
                <img class="border-angle" src="../assets/img/border-angle.png" alt="">
                <img class="border-angle" src="../assets/img/border-angle.png" alt="">
                <img class="border-angle" src="../assets/img/border-angle.png" alt="">
                <img class="border-angle" src="../assets/img/border-angle.png" alt="">
            </article> -->
            <aside class="np-aside">
              <h1 class="title">Nova publicação:</h1>
              <input type="text" class="ipt" id="ipt_titulo" placeholder="Título" />
              <input type="text" class="ipt" id="ipt_desc" placeholder="Descrição" />
            </aside>

            <aside class="np-aside">
                <img src="#" alt="" id="img-volatil" style="display: none;">
              <input class="ipt-file" type="file" id="file-upload" accept="image/*" onchange="previewImage(event)"/>
            </aside>
        </section>
        <button onclick="post()" class="btn">Publicar</button>
      </main>
    </div>
  </body>
</html>

<script>
  function post() {
    if (validarTexto("Título", ipt_titulo.value, 100)) {
      console.log("Título certo");
      if (validarTexto("Descrição", ipt_desc.value, 300)) {
        console.log("Descrição Certa");
      }
    }
  }

  /**
   * Create an arrow function that will be called when an image is selected.
   */
  const previewImage = (event) => {
    /*** Get the selected files.*/
    const imageFiles = event.target.files;

    var img = document.getElementById('img-volatil');
    img.src = URL.createObjectURL(imageFiles[0]);
    img.style.display = 'block';

    console.log(URL.createObjectURL(imageFiles[0]));
  };
</script>
